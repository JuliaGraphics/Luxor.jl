<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Images · Luxor</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="../versions.js"></script></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><form class="search" action="search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction to Luxor</a></li><li><a class="toctext" href="examples.html">A few examples</a></li><li><a class="toctext" href="basics.html">Basic graphics</a></li><li><a class="toctext" href="styling.html">Styling</a></li><li><a class="toctext" href="polygons.html">Polygons</a></li><li><a class="toctext" href="text.html">Text</a></li><li><a class="toctext" href="transforms.html">Transforms and matrices</a></li><li><a class="toctext" href="clipping.html">Clipping</a></li><li class="current"><a class="toctext" href="images.html">Images</a><ul class="internal"><li><a class="toctext" href="#Placing-images-1">Placing images</a></li><li><a class="toctext" href="#Clipping-images-1">Clipping images</a></li><li><a class="toctext" href="#Drawing-on-images-1">Drawing on images</a></li></ul></li><li><a class="toctext" href="turtle.html">Turtle graphics</a></li><li><a class="toctext" href="animation.html">Animation</a></li><li><a class="toctext" href="moreexamples.html">More examples</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="images.html">Images</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/docs/src/images.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Images-1" href="#Images-1">Images</a></h1><h2><a class="nav-anchor" id="Placing-images-1" href="#Placing-images-1">Placing images</a></h2><p>There is some limited support for placing PNG images on the drawing. First, load a PNG image using <code>readpng(filename)</code>.</p><p>Then use <code>placeimage()</code> to place it by its top left corner at point <code>x/y</code> or <code>pt</code>. Access the image&#39;s dimensions with <code>.width</code> and <code>.height</code>.</p><div><pre><code class="language-julia">img = readpng(&quot;assets/figures/julia-logo-mask.png&quot;)
w = img.width
h = img.height
axes()
scale(0.3, 0.3)
rotate(pi/4)
placeimage(img, -w/2, -h/2, .5)
sethue(&quot;red&quot;)
circle(-w/2, -h/2, 15, :fill)</code></pre></div><p><img src="assets/figures/images.png" alt="\"Images\""/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.readpng" href="#Luxor.readpng"><code>Luxor.readpng</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">readpng(pathname)</code></pre><p>Read a PNG file.</p><p>This returns a image object suitable for placing on the current drawing with <code>placeimage()</code>. You can access its <code>width</code> and <code>height</code> fields:</p><pre><code class="language-none">image = readpng(&quot;/tmp/test-image.png&quot;)
w = image.width
h = image.height</code></pre></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/src/Luxor.jl#L924-L935">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Luxor.placeimage" href="#Luxor.placeimage"><code>Luxor.placeimage</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">placeimage(img, xpos, ypos)</code></pre><p>Place a PNG image on the drawing at (<code>xpos</code>/<code>ypos</code>). The image <code>img</code> has been previously loaded using <code>readpng()</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/src/Luxor.jl#L944-L949">source</a><br/><div><pre><code class="language-none">placeimage(img, pos)</code></pre><p>Place a PNG image on the drawing at <code>pos</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/src/Luxor.jl#L956-L960">source</a><br/><div><pre><code class="language-none">placeimage(img, xpos, ypos, a)</code></pre><p>Place a PNG image on the drawing at (<code>xpos</code>/<code>ypos</code>) with transparency <code>a</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/src/Luxor.jl#L963-L967">source</a><br/><div><pre><code class="language-none">placeimage(img, pos, a)</code></pre><p>Place a PNG image on the drawing at <code>pos</code> with transparency <code>a</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/Luxor.jl/tree/c1817a24f0ac90a2d16c087f1146e84437a696be/src/Luxor.jl#L973-L977">source</a><br/></section><h2><a class="nav-anchor" id="Clipping-images-1" href="#Clipping-images-1">Clipping images</a></h2><p>You can clip images. The following script repeatedly places the image using a circle to define a clipping path:</p><p><img src="assets/figures/test-image.png" alt="\"Images\""/></p><pre><code class="language-julia">using Luxor

width, height = 4000, 4000
margin = 500

fname = &quot;/tmp/test-image.pdf&quot;
Drawing(width, height, fname)
origin()
background(&quot;grey25&quot;)

setline(5)
sethue(&quot;green&quot;)

image = readpng(dirname(@__FILE__) * &quot;/../docs/assets/figures/julia-logo-mask.png&quot;)

w = image.width
h = image.height

pagetiles = Tiler(width, height, 7, 9)
tw = pagetiles.tilewidth/2
for (pos, n) in pagetiles
    circle(pos, tw, :stroke)
    circle(pos, tw, :clip)
    gsave()
    translate(pos)
    scale(.95, .95)
    rotate(rand(0.0:pi/8:2pi))
    placeimage(image, -w/2, -h/2)
    grestore()
    clipreset()
end

finish()</code></pre><h2><a class="nav-anchor" id="Drawing-on-images-1" href="#Drawing-on-images-1">Drawing on images</a></h2><p>You sometimes want to draw over images, for example to annotate them with text or vector graphics. The things to be aware of are mostly to do with coordinates and transforms.</p><p>In this example, we&#39;ll annotate a PNG file with some text and graphics.</p><p><img src="assets/figures/drawing_on_images.png" alt="\"Drawing on images\""/></p><div><pre><code class="language-julia">image = readpng(dirname(@__FILE__) * &quot;/../docs/assets/figures/julia-logo-mask.png&quot;)

w = image.width
h = image.height

# create a drawing surface of the same size

fname = &quot;assets/figures/drawing_on_images.png&quot;
Drawing(w, h, fname)

# place the image on the Drawing - it&#39;s positioned by its top/left corner

placeimage(image, 0, 0)

# now you can annotate the image. The (0/0) is at the top left.

sethue(&quot;red&quot;)
fontsize(20)
circle(5, 5, 2, :fill)
text(&quot;(5/5)&quot;, Point(25, 25), halign=:center)

arrow(Point(w/2, 50), Point(0, 50))
arrow(Point(w/2, 50), Point(w, 50))
text(&quot;width $w&quot;, Point(w/2, 70), halign=:center)

# to divide up the image into rectangular areas, temporarily position the axes at the center:

gsave()
setline(0.2)
sethue(&quot;green&quot;)
fontsize(12)
translate(w/2, h/2)
tiles = Tiler(w, h, 16, 10, margin=0)
for (pos, n) in tiles
    box(pos, tiles.tilewidth, tiles.tileheight, :stroke)
    text(string(n), pos, halign=:center)
end
grestore()

# If you want coordinates to be relative to the bottom left corner of the image, transform:

translate(0, h)

# and reflect in the x-axis

transform([1 0 0 -1 0 0])

# now 0/0 is at the bottom left corner, and 100/100 is up and to the right.

sethue(&quot;blue&quot;)
arrow(O, Point(100, 100))

# However, don&#39;t use text while flipped, because it&#39;s reversed:

text(&quot;I&#39;m in reverse!&quot;, w/2, h/2)

finish()</code></pre></div><footer><hr/><a class="previous" href="clipping.html"><span class="direction">Previous</span><span class="title">Clipping</span></a><a class="next" href="turtle.html"><span class="direction">Next</span><span class="title">Turtle graphics</span></a></footer></article></body></html>
