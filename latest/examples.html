<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>A few examples · Luxor</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Luxor logo"/></a><h1>Luxor</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction to Luxor</a></li><li class="current"><a class="toctext" href="examples.html">A few examples</a><ul class="internal"><li><a class="toctext" href="#The-obligatory-&quot;Hello-World&quot;-1">The obligatory &quot;Hello World&quot;</a></li><li><a class="toctext" href="#The-Julia-logos-1">The Julia logos</a></li><li><a class="toctext" href="#Something-a-bit-more-complicated:-a-Sierpinski-triangle-1">Something a bit more complicated: a Sierpinski triangle</a></li><li><a class="toctext" href="#Working-in-Jupyter-1">Working in Jupyter</a></li><li><a class="toctext" href="#More-examples-1">More examples</a></li></ul></li><li><a class="toctext" href="tutorial.html">Tutorial</a></li><li><a class="toctext" href="basics.html">Basic concepts</a></li><li><a class="toctext" href="simplegraphics.html">Simple graphics</a></li><li><a class="toctext" href="colors-styles.html">Colors and styles</a></li><li><a class="toctext" href="polygons.html">Polygons and paths</a></li><li><a class="toctext" href="text.html">Text</a></li><li><a class="toctext" href="transforms.html">Transforms and matrices</a></li><li><a class="toctext" href="clipping.html">Clipping</a></li><li><a class="toctext" href="images.html">Images</a></li><li><a class="toctext" href="turtle.html">Turtle graphics</a></li><li><a class="toctext" href="animation.html">Animation</a></li><li><a class="toctext" href="moreexamples.html">More examples</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="examples.html">A few examples</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/Luxor.jl/tree/1c440c48e227f7c7e49aec304562778b78f0e044/docs/src/examples.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>A few examples</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h1><h2><a class="nav-anchor" id="The-obligatory-&quot;Hello-World&quot;-1" href="#The-obligatory-&quot;Hello-World&quot;-1">The obligatory &quot;Hello World&quot;</a></h2><p>Here&#39;s the &quot;Hello world&quot;:</p><p><img src="assets/figures/hello-world.png" alt="&quot;Hello world&quot;"/></p><pre><code class="language-julia">using Luxor
Drawing(1000, 1000, &quot;hello-world.png&quot;)
origin()
background(&quot;black&quot;)
sethue(&quot;red&quot;)
fontsize(50)
text(&quot;hello world&quot;)
finish()
preview()</code></pre><p><code>Drawing(1000, 1000, &quot;hello-world.png&quot;)</code> defines the size of the image, and the location and type of the finished image. <code>origin()</code> moves the 0/0 point to the centre of the drawing surface (by default it&#39;s at the top left corner). Thanks to <code>Colors.jl</code> we can specify colors by name: <code>background(&quot;black&quot;)</code> defines the color of the background of the drawing. <code>text(&quot;helloworld&quot;)</code> draws the text. It&#39;s placed at the current 0/0 if you don&#39;t specify otherwise. <code>finish()</code> completes the drawing and saves the image in the file. <code>preview()</code> tries to open the saved file using some other application (eg Preview on macOS).</p><p>The macros <code>@png</code>, <code>@svg</code>, and <code>@pdf</code> provide shortcuts for making and previewing graphics without having to provide the set-up and finish instructions:</p><pre><code class="language-julia"># using Luxor

@png begin
        fontsize(50)
        circle(O, 150, :stroke)
        text(&quot;hello world&quot;, halign=:center, valign=:middle)
     end</code></pre><p><img src="assets/figures/hello-world-macro.png" alt="background"/></p><pre><code class="language-julia">@svg begin
    g = [Point(3x, 3y) for x in 1:10:100, y in 1:10:100]
    circle.(g, 4, :fill)
    label.(string.([(y - 1) * 10 + x for x in 1:10, y in 1:10]), :E, g)
end</code></pre><p><img src="assets/figures/circle-dots.png" alt="background"/></p><h2><a class="nav-anchor" id="The-Julia-logos-1" href="#The-Julia-logos-1">The Julia logos</a></h2><p>Luxor contains two functions that draw the Julia logo, either in color or a single color, and the three Julia circles.</p><div><pre><code class="language-julia">using Luxor
Drawing(600, 400, &quot;assets/figures/julia-logos.png&quot;)
origin()
background(&quot;white&quot;)
for theta in range(0, pi/8, 16)
    gsave()
    scale(0.25)
    rotate(theta)
    translate(250, 0)
    randomhue()
    julialogo(action=:fill, color=false)
    grestore()
end

gsave()
scale(0.3)
juliacircles()
grestore()

translate(200, -150)
scale(0.3)
julialogo()
finish()</code></pre></div><p><img src="assets/figures/julia-logos.png" alt="background"/></p><p>The <code>gsave()</code> function saves the current drawing parameters, and any subsequent changes such as the <code>scale()</code> and <code>rotate()</code> operations are discarded by the next <code>grestore()</code> function.</p><p>You can change the extension of the file name, for example &quot;julia-logos.png&quot; to &quot;julia-logos.svg&quot; or &quot;julia-logos.pdf&quot; or &quot;julia-logos.eps&quot;, to produce alternative formats.</p><h2><a class="nav-anchor" id="Something-a-bit-more-complicated:-a-Sierpinski-triangle-1" href="#Something-a-bit-more-complicated:-a-Sierpinski-triangle-1">Something a bit more complicated: a Sierpinski triangle</a></h2><p>Here&#39;s a version of the Sierpinski recursive triangle, clipped to a circle.</p><p><img src="assets/figures/sierpinski.png" alt="Sierpinski"/></p><pre><code class="language-julia"># Subsequent examples will omit these setup and finishing functions:
#
# using Luxor, Colors
# Drawing()
# background(&quot;white&quot;)
# origin()

function triangle(points, degree)
    sethue(cols[degree])
    poly(points, :fill)
end

function sierpinski(points, degree)
    triangle(points, degree)
    if degree &gt; 1
        p1, p2, p3 = points
        sierpinski([p1, midpoint(p1, p2),
                        midpoint(p1, p3)], degree-1)
        sierpinski([p2, midpoint(p1, p2),
                        midpoint(p2, p3)], degree-1)
        sierpinski([p3, midpoint(p3, p2),
                        midpoint(p1, p3)], degree-1)
    end
end

function draw(n)
    circle(O, 75, :clip)
    my_points = ngon(O, 150, 3, -pi/2, vertices=true)
    sierpinski(my_points, n)
end

depth = 8 # 12 is ok, 20 is right out (on my computer, at least)
cols = distinguishable_colors(depth)
draw(depth)

# finish()
# preview()</code></pre><p>The main type (apart from the Drawing) is the Point, an immutable composite type containing <code>x</code> and <code>y</code> fields.</p><h2><a class="nav-anchor" id="Working-in-Jupyter-1" href="#Working-in-Jupyter-1">Working in Jupyter</a></h2><p>If you want to work interactively, you can use an environment such as a Jupyter notebook, and load Luxor at the start of a session. The first drawing will take a few seconds, because the Cairo graphics engine needs to warm up. Subsequent drawings are then much quicker. (This is true of much graphics and plotting work, of course. And if you&#39;re working in the REPL, after your first drawing subsequent drawings will be much quicker.)</p><p><img src="assets/figures/jupyter-star.png" alt="Jupyter"/></p><h2><a class="nav-anchor" id="More-examples-1" href="#More-examples-1">More examples</a></h2><h3><a class="nav-anchor" id="Maps-1" href="#Maps-1">Maps</a></h3><p>Luxor can read simple polygons from shapefiles, so you can create simple maps. For example, here&#39;s part of a map of the world built from a single shapefile, together with the locations of most airports read in from a text file and overlaid.</p><p><img src="assets/figures/airport-map-detail.png" alt="&quot;simple world map detail&quot;"/></p><p>The latitude and longitude coordinates are converted directly to drawing coordinates. The latitude coordinates have to be negated because y-coordinates in Luxor typically increase down the page, whereas latitude values increase as you travel North.</p><p>This is the full map:</p><p><img src="assets/figures/airport-map.png" alt="&quot;simple world map&quot;"/></p><p>You&#39;ll need to install the <a href="https://github.com/JuliaGeo/Shapefile.jl">Shapefile.jl</a> package before running the code:</p><pre><code class="language-julia">using Shapefile, Luxor
include(Pkg.dir(&quot;Luxor&quot;) * &quot;/src/readshapefiles.jl&quot;)
function drawairportmap(outputfilename, countryoutlines, airportdata)
    Drawing(4000, 2000, outputfilename)
    origin()
    scale(10, 10)
    setline(1.0)
    fontsize(0.075)
    gsave()
    setopacity(0.25)
    for shape in countryoutlines.shapes
        randomhue()
        pgons, bbox = convert(Array{Luxor.Point, 1}, shape)
        for pgon in pgons
            poly(pgon, :fill)
        end
    end
    grestore()
    sethue(&quot;black&quot;)
    for airport in airportdata
        city, country, lat, long = split(chomp(airport), &quot;,&quot;)
        location = Point(parse(long), -parse(lat)) # flip y-coordinate
        circle(location, .01, :fill)
        text(string(city), location.x, location.y - 0.02)
    end
    finish()
    preview()
end

worldshapefile = Pkg.dir(&quot;Luxor&quot;) * &quot;/docs/src/assets/examples/outlines-of-world-countries.shp&quot;
airportdata = readlines(Pkg.dir(&quot;Luxor&quot;) * &quot;/docs/src/assets/examples/airports.csv&quot;)
worldshapes = open(worldshapefile) do f
    read(f, Shapefile.Handle)
end
drawairportmap(&quot;/tmp/airport-map.pdf&quot;, worldshapes, airportdata)</code></pre><p><a href="assets/examples/make-airport-world-map.jl">link to Julia source</a> | <a href="assets/examples/airport-map.pdf">link to PDF map</a></p><h3><a class="nav-anchor" id="Sector-chart-1" href="#Sector-chart-1">Sector chart</a></h3><p><img src="assets/figures/sector-chart.png" alt="&quot;benchmark sector chart&quot;"/></p><p>Sector charts look cool but they aren&#39;t always good at their job. This chart takes the raw benchmark scores from the <a href="http://julialang.org">Julia website</a> and tries to render them literally as radiating sectors. The larger the sector, the slower the performance, so it&#39;s difficult to see the Julia scores sometimes...!</p><p><a href="assets/figures/sector-chart.pdf">link to PDF original</a> | <a href="assets/examples/sector-chart.jl">link to Julia source</a></p><h3><a class="nav-anchor" id="Ampersands-1" href="#Ampersands-1">Ampersands</a></h3><p>Here are a few ampersands collected together, mainly of interest to typomaniacs and fontophiles. It was necessary to vary the font size of each font, since they&#39;re naturally different.</p><p><img src="assets/figures/iloveampersands.png" alt="&quot;iloveampersands&quot;"/></p><p><a href="assets/figures/iloveampersands.pdf">link to PDF original</a> | <a href="assets/examples/iloveampersands.jl">link to Julia source</a></p><h3><a class="nav-anchor" id="Moon-phases-1" href="#Moon-phases-1">Moon phases</a></h3><p>Looking upwards again, this moon phase chart shows the calculated phase of the moon for every day in a year.</p><p><img src="assets/figures/2017-moon-phase-calendar.png" alt="&quot;benchmark sector chart&quot;"/></p><p><a href="assets/figures/2017-moon-phase-calendar.pdf">link to PDF original</a> | <a href="https://github.com/cormullion/Spiral-moon-calendar">link to github repository</a></p><h3><a class="nav-anchor" id="Misc-images-1" href="#Misc-images-1">Misc images</a></h3><p>Sometimes you just want to take a line for a walk:</p><p><img src="assets/figures/art.png" alt="&quot;pointless&quot;"/></p><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction to Luxor</span></a><a class="next" href="tutorial.html"><span class="direction">Next</span><span class="title">Tutorial</span></a></footer></article></body></html>
