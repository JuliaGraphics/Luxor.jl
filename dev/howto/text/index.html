<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Add text Â· Luxor</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/luxor-docs.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Luxor logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Luxor</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction to Luxor</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorial/quickstart/">Quick and short</a></li><li><a class="tocitem" href="../../tutorial/basictutorial/">A more in-depth tutorial</a></li><li><a class="tocitem" href="../../tutorial/simple-animation/">Simple animation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../example/examples/">Simple examples</a></li><li><a class="tocitem" href="../../example/moreexamples/">More examples</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">How to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../createdrawings/">Create drawings</a></li><li><a class="tocitem" href="../simplegraphics/">Draw simple shapes</a></li><li><a class="tocitem" href="../geometrytools/">Use geometry tools</a></li><li><a class="tocitem" href="../tables-grids/">Work with tables and grids</a></li><li><a class="tocitem" href="../colors-styles/">Use colors and styles</a></li><li><a class="tocitem" href="../polygons/">Work with polygons</a></li><li class="is-active"><a class="tocitem" href>Add text</a><ul class="internal"><li><a class="tocitem" href="#A-tale-of-two-APIs"><span>A tale of two APIs</span></a></li><li><a class="tocitem" href="#Specifying-the-font-(&quot;Toy&quot;-API)"><span>Specifying the font (&quot;Toy&quot; API)</span></a></li><li><a class="tocitem" href="#Specifying-the-font-(&quot;Pro&quot;-API)"><span>Specifying the font (&quot;Pro&quot; API)</span></a></li><li><a class="tocitem" href="#Placing-text-(&quot;Toy&quot;-API)"><span>Placing text (&quot;Toy&quot; API)</span></a></li><li><a class="tocitem" href="#Placing-text-(&quot;Pro&quot;-API)"><span>Placing text (&quot;Pro&quot; API)</span></a></li><li><a class="tocitem" href="#Notes-on-fonts"><span>Notes on fonts</span></a></li><li><a class="tocitem" href="#Text-to-paths"><span>Text to paths</span></a></li><li><a class="tocitem" href="#Text-and-font-dimensions-(&quot;Toy&quot;-API-only)"><span>Text and font dimensions (&quot;Toy&quot; API only)</span></a></li><li><a class="tocitem" href="#Labels"><span>Labels</span></a></li><li><a class="tocitem" href="#Text-on-a-curve"><span>Text on a curve</span></a></li><li><a class="tocitem" href="#Text-clipping"><span>Text clipping</span></a></li><li><a class="tocitem" href="#Text-blocks,-boxes,-and-wrapping"><span>Text blocks, boxes, and wrapping</span></a></li><li><a class="tocitem" href="#Text-tracking"><span>Text tracking</span></a></li></ul></li><li><a class="tocitem" href="../clipping/">Clip graphics</a></li><li><a class="tocitem" href="../images/">Placing images</a></li><li><a class="tocitem" href="../turtle/">Turtle graphics</a></li><li><a class="tocitem" href="../animation/">Make animations</a></li><li><a class="tocitem" href="../livegraphics/">Live graphics and snapshots</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../explanation/basics/">Basic concepts</a></li><li><a class="tocitem" href="../../explanation/pathspolygons/">Paths vs Polygon</a></li><li><a class="tocitem" href="../../explanation/perfectpixels/">Perfect pixels and antialising</a></li><li><a class="tocitem" href="../../explanation/transforms/">Transforms and matrices</a></li><li><a class="tocitem" href="../../explanation/imagematrix/">Image matrix</a></li><li><a class="tocitem" href="../../explanation/luxorcairo/">Luxor and Cairo</a></li><li><a class="tocitem" href="../../explanation/contributing/">Contributing</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../reference/functionindex/">Alphabetical function list</a></li><li><a class="tocitem" href="../../reference/api/">Function reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How to guides</a></li><li class="is-active"><a href>Add text</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Add text</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGraphics/Luxor.jl/blob/master/docs/src/howto/text.md" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Text-and-fonts"><a class="docs-heading-anchor" href="#Text-and-fonts">Text and fonts</a><a id="Text-and-fonts-1"></a><a class="docs-heading-anchor-permalink" href="#Text-and-fonts" title="Permalink"></a></h1><h2 id="A-tale-of-two-APIs"><a class="docs-heading-anchor" href="#A-tale-of-two-APIs">A tale of two APIs</a><a id="A-tale-of-two-APIs-1"></a><a class="docs-heading-anchor-permalink" href="#A-tale-of-two-APIs" title="Permalink"></a></h2><p>There are two ways to draw text in Luxor. You can use either the so-called &#39;toy&#39; API or the &#39;pro&#39; API. Both have their advantages and disadvantages. Also, font selection and availability varies a lot across the three operating systems. You may have to experiment to find code patterns that work for you.</p><h4 id="The-Toy-API"><a class="docs-heading-anchor" href="#The-Toy-API">The Toy API</a><a id="The-Toy-API-1"></a><a class="docs-heading-anchor-permalink" href="#The-Toy-API" title="Permalink"></a></h4><p>Use:</p><ul><li><code>text(string, [position])</code> to place text at a position, otherwise at <code>0/0</code>, and optionally specify the horizontal and vertical alignment</li><li><code>fontface(fontname)</code> to specify the fontname</li><li><code>fontsize(fontsize)</code> to specify the fontsize</li></ul><pre><code class="language-julia hljs">fontsize(16)
fontface(&quot;Georgia-Bold&quot;)
text(&quot;Georgia: a serif typeface designed in 1993 by Matthew Carter.&quot;, halign=:center)</code></pre><p><img src="../../assets/figures/toy-text-example.png" alt="text placement"/></p><p>(If the specified font is unavailable on the current system configuration, the default, usually Times/Helvetica or DejaVu, is used.)</p><p>The <a href="../../reference/api/#Luxor.label"><code>label</code></a> function also uses the Toy API.</p><h4 id="The-Pro-API"><a class="docs-heading-anchor" href="#The-Pro-API">The Pro API</a><a id="The-Pro-API-1"></a><a class="docs-heading-anchor-permalink" href="#The-Pro-API" title="Permalink"></a></h4><p>Use:</p><ul><li><code>setfont(fontname, fontsize)</code> to specify the fontname and size</li><li><code>settext(text, [position])</code> to place the text at a position, and optionally specify horizontal and vertical alignment, rotation (in degrees counterclockwise!), and the presence of any pseudo-Pango-flavored markup.</li></ul><pre><code class="language-julia hljs">setfont(&quot;Georgia Bold&quot;, 16)
settext(&quot;Georgia: a serif typeface designed in 1993 by Matthew Carter.&quot;, halign=&quot;center&quot;)</code></pre><p><img src="../../assets/figures/pro-text-example.png" alt="text placement"/></p><h2 id="Specifying-the-font-(&quot;Toy&quot;-API)"><a class="docs-heading-anchor" href="#Specifying-the-font-(&quot;Toy&quot;-API)">Specifying the font (&quot;Toy&quot; API)</a><a id="Specifying-the-font-(&quot;Toy&quot;-API)-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-the-font-(&quot;Toy&quot;-API)" title="Permalink"></a></h2><p>Use <code>fontface(fontname)</code> to choose a font, and <code>fontsize(n)</code> to set the font size. <a href="../../reference/api/#Luxor.get_fontsize-Tuple{}"><code>get_fontsize</code></a> finds the current font size.</p><h2 id="Specifying-the-font-(&quot;Pro&quot;-API)"><a class="docs-heading-anchor" href="#Specifying-the-font-(&quot;Pro&quot;-API)">Specifying the font (&quot;Pro&quot; API)</a><a id="Specifying-the-font-(&quot;Pro&quot;-API)-1"></a><a class="docs-heading-anchor-permalink" href="#Specifying-the-font-(&quot;Pro&quot;-API)" title="Permalink"></a></h2><p>To select a font in the Pro text API, use <a href="../../reference/api/#Luxor.setfont-Tuple{AbstractString, Any}"><code>setfont</code></a> and supply both the font name and a size.</p><h2 id="Placing-text-(&quot;Toy&quot;-API)"><a class="docs-heading-anchor" href="#Placing-text-(&quot;Toy&quot;-API)">Placing text (&quot;Toy&quot; API)</a><a id="Placing-text-(&quot;Toy&quot;-API)-1"></a><a class="docs-heading-anchor-permalink" href="#Placing-text-(&quot;Toy&quot;-API)" title="Permalink"></a></h2><p>Use <a href="../../reference/api/#Luxor.text-Tuple{Any, Point}"><code>text</code></a> to place text.</p><pre><code class="language-julia hljs">pt1 = Point(-100, 0)
pt2 = Point(0, 0)
pt3 = Point(100, 0)
sethue(&quot;black&quot;)
text(&quot;1&quot;,  pt1, halign=:left,   valign = :bottom)
text(&quot;2&quot;,  pt2, halign=:center, valign = :bottom)
text(&quot;3&quot;,  pt3, halign=:right,  valign = :bottom)
text(&quot;4&quot;,  pt1, halign=:left,   valign = :top)
text(&quot;5&quot;, pt2, halign=:center, valign = :top)
text(&quot;6&quot;,  pt3, halign=:right,  valign = :top)
sethue(&quot;red&quot;)
map(p -&gt; circle(p, 4, :fill), [pt1, pt2, pt3])</code></pre><p><img src="../../assets/figures/text-placement.png" alt="text placement"/></p><pre><code class="language-julia hljs">fontsize(10)
fontface(&quot;Georgia&quot;)
[text(string(Î¸), Point(40cos(Î¸), 40sin(Î¸)), angle=Î¸) for Î¸ in 0:Ï€/12:47Ï€/24]</code></pre><p><img src="../../assets/figures/text-rotation.png" alt="text rotation"/></p><h2 id="Placing-text-(&quot;Pro&quot;-API)"><a class="docs-heading-anchor" href="#Placing-text-(&quot;Pro&quot;-API)">Placing text (&quot;Pro&quot; API)</a><a id="Placing-text-(&quot;Pro&quot;-API)-1"></a><a class="docs-heading-anchor-permalink" href="#Placing-text-(&quot;Pro&quot;-API)" title="Permalink"></a></h2><p>Use <a href="../../reference/api/#Luxor.settext-Tuple{AbstractString, Point}"><code>settext</code></a> to place text. You can include some pseudo-HTML markup with the keyword argument <code>markup=true</code>.</p><pre><code class="language-julia hljs">rulers()
sethue(&quot;black&quot;)
settext(&quot;&lt;span font=&#39;26&#39; background =&#39;green&#39; foreground=&#39;red&#39;&gt; Hey&lt;/span&gt;
    &lt;i&gt;italic&lt;/i&gt; &lt;b&gt;bold&lt;/b&gt; &lt;sup&gt;superscript&lt;/sup&gt;
    &lt;tt&gt;monospaced&lt;/tt&gt;&quot;,
    halign=&quot;center&quot;,
    markup=true,
    angle=10) # degrees counterclockwise!</code></pre><p><img src="../../assets/figures/pro-text-placement.png" alt="pro text placement"/></p><h2 id="Notes-on-fonts"><a class="docs-heading-anchor" href="#Notes-on-fonts">Notes on fonts</a><a id="Notes-on-fonts-1"></a><a class="docs-heading-anchor-permalink" href="#Notes-on-fonts" title="Permalink"></a></h2><p>Fonts are loaded when you first start using Luxor/Cairo in a Julia session. This partly explains why starting a Luxor/Cairo session can take a few seconds.</p><p>On macOS, the fontname required by the Toy API&#39;s <a href="../../reference/api/#Luxor.fontface-Tuple{Any}"><code>fontface</code></a> should be the PostScript name of a currently activated font. You can find this out using, for example, the FontBook application.</p><p>On macOS, a list of currently activated fonts can be found (after a while) with the shell command:</p><pre><code class="language-julia hljs">system_profiler SPFontsDataType</code></pre><p>Fonts currently activated by a Font Manager can be found and used by the Toy API but not by the Pro API (at least on my macOS computer currently).</p><p>On macOS, you can obtain a list of fonts that <code>fontconfig</code> considers are installed and available for use (via the Pro Text API with <a href="../../reference/api/#Luxor.setfont-Tuple{AbstractString, Any}"><code>setfont</code></a>) using the shell command:</p><pre><code class="language-julia hljs">fc-list | cut -f 2 -d &quot;:&quot;</code></pre><p>although typically this lists only those fonts in <code>/System/Library/Fonts</code> and <code>/Library/Fonts</code>, and not <code>~/Library/Fonts</code>.</p><p>(There is a Julia interface to <code>fontconfig</code> at <a href="https://github.com/JuliaGraphics/Fontconfig.jl">Fontconfig.jl</a>. See also <a href="https://github.com/JuliaGraphics/FreeTypeAbstraction.jl">FreeTypeAbstraction.jl</a>)</p><p>In the Pro API, the default font is Times Roman (on macOS). In the Toy API, the default font is Helvetica (on macOS).</p><p>One difference between <a href="../../reference/api/#Luxor.settext-Tuple{AbstractString, Point}"><code>settext</code></a> and <a href="../../reference/api/#Luxor.text-Tuple{Any, Point}"><code>text</code></a> (on macOS) is that many more missing Unicode glyphs are automatically substituted by other fonts when you use the former.</p><p>Cairo.jl (and hence Luxor.jl) doesn&#39;t support emoji currently. ðŸ˜¢</p><p>Text is rasterized (converted from outlines to pixels) only when you output to the PNG format. For SVG formats, text is converted to outlines (curves and lines). For PDF and EPS formats, the fonts you use are stored inside the output file (&quot;embedded&quot;), and the text is displayed using that font only when the file is viewed.</p><p>For PNG files, the appearance of fonts when output is controlled to some extent by the operating system. For example, on Windows, if ClearType is active, differently-colored pixels are used to display fonts, because of the use of subpixel rendering. These colored pixels will be visible in the PNG output.</p><h2 id="Text-to-paths"><a class="docs-heading-anchor" href="#Text-to-paths">Text to paths</a><a id="Text-to-paths-1"></a><a class="docs-heading-anchor-permalink" href="#Text-to-paths" title="Permalink"></a></h2><p><code>textoutlines(string, position, action)</code> converts the text into graphic path(s), places them starting at <code>position</code>, and applies the <code>action</code>.</p><pre><code class="language-julia hljs">fontface(&quot;Times-Roman&quot;)
fontsize(500)
setline(4)
sethue(&quot;maroon2&quot;)
textoutlines(&quot;&amp;&quot;, O, :path, valign=:middle, halign=:center)
fillpreserve()
sethue(&quot;black&quot;)
strokepath()</code></pre><p><img src="../../assets/figures/textoutlines.png" alt="text outlines"/></p><p><a href="../../reference/api/#Luxor.textpath-Tuple{Any}"><code>textpath</code></a> converts the text into graphic paths suitable for further manipulation.</p><h2 id="Text-and-font-dimensions-(&quot;Toy&quot;-API-only)"><a class="docs-heading-anchor" href="#Text-and-font-dimensions-(&quot;Toy&quot;-API-only)">Text and font dimensions (&quot;Toy&quot; API only)</a><a id="Text-and-font-dimensions-(&quot;Toy&quot;-API-only)-1"></a><a class="docs-heading-anchor-permalink" href="#Text-and-font-dimensions-(&quot;Toy&quot;-API-only)" title="Permalink"></a></h2><p>The <code>textextents(str)</code> function returns the dimensions of the string <code>str</code>, given the current font. There has to be a current drawing before this function is called.</p><p><code>width</code> and <code>height</code> are stored in elements 3 and 4. The first two elements are the offsets (&quot;bearings&quot;) from the reference point (green) to the bounding box. The last two elements determine where the next (&quot;advance&quot;) character should start (blue).</p><p><img src="../../assets/figures/textextents.png" alt="textextents"/></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>There is currently no equivalent of this function for the &quot;Pro&quot; API.</p></div></div><h2 id="Labels"><a class="docs-heading-anchor" href="#Labels">Labels</a><a id="Labels-1"></a><a class="docs-heading-anchor-permalink" href="#Labels" title="Permalink"></a></h2><p>The <a href="../../reference/api/#Luxor.label"><code>label</code></a> function places text relative to a specific point, and you can use compass points or angles to indicate where it should be. So <code>:N</code> (for North) places a text label directly above the point, as does <code>3Ï€/2</code>.</p><pre><code class="language-julia hljs">sethue(&quot;black&quot;)
fontsize(15)
octagon = ngon(O, 100, 8, 0, vertices=true)

compass = [:SE, :S, :SW, :W, :NW, :N, :NE, :E, :SE]

for i in 1:8
    circle(octagon[i], 5, :fill)
    label(string(compass[i]), compass[i], octagon[i], leader=true, leaderoffsets=[0.2, 0.9], offset=50)
end</code></pre><p><img src="../../assets/figures/labels.png" alt="labels"/></p><h2 id="Text-on-a-curve"><a class="docs-heading-anchor" href="#Text-on-a-curve">Text on a curve</a><a id="Text-on-a-curve-1"></a><a class="docs-heading-anchor-permalink" href="#Text-on-a-curve" title="Permalink"></a></h2><p>Use <code>textcurve(str)</code> to draw a string <code>str</code> on a circular arc or spiral.</p><pre><code class="language-julia hljs">fontsize(7)
fontface(&quot;Menlo&quot;)
textstring = join(names(Base), &quot; &quot;)
textcurve(&quot;this spiral contains every word in julia names(Base): &quot; * textstring,
    -Ï€/2,
    350, 0, 0,
    spiral_in_out_shift = -8.0,
    letter_spacing = 0,
    spiral_ring_step = 0)
fontsize(35)
fontface(&quot;Avenir-Black&quot;)
textcentered(&quot;julia names(Base)&quot;, 0, 0)</code></pre><p><img src="../../assets/figures/text-spiral.png" alt="text on a curve or spiral"/></p><p>For shorter strings, <a href="../../reference/api/#Luxor.textcurvecentered-Tuple{Any, Any, Any, Point}"><code>textcurvecentered</code></a> tries to place the text on a circular arc by its center point.</p><pre><code class="language-julia hljs">fontface(&quot;Arial-Black&quot;)
circle(O, 100, :stroke)
textcurvecentered(&quot;hello world&quot;, -Ï€/2, 100, O;
    clockwise = true,
    letter_spacing = 0,
    baselineshift = -20
    )
textcurvecentered(&quot;hello world&quot;, Ï€/2, 100, O;
    clockwise = false,
    letter_spacing = 0,
    baselineshift = 10
    )</code></pre><p><img src="../../assets/figures/text-centered.png" alt="text centered on curve"/></p><h2 id="Text-clipping"><a class="docs-heading-anchor" href="#Text-clipping">Text clipping</a><a id="Text-clipping-1"></a><a class="docs-heading-anchor-permalink" href="#Text-clipping" title="Permalink"></a></h2><p>You can use newly-created text paths as a clipping region - here the text paths are filled with names of randomly chosen Julia functions:</p><p><img src="../../assets/figures/text-path-clipping.png" alt="text clipping"/></p><pre><code class="language-julia hljs">using Luxor

currentwidth = 1250 # pts
currentheight = 800 # pts
Drawing(currentwidth, currentheight, &quot;/tmp/text-path-clipping.png&quot;)

origin()
background(&quot;darkslategray3&quot;)

fontsize(600)                             #Â big fontsize to use for clipping
fontface(&quot;Agenda-Black&quot;)
str = &quot;julia&quot;                             # string to be clipped
w, h = textextents(str)[3:4]              #Â get width and height

translate(-(currentwidth/2) + 50, -(currentheight/2) + h)

textpath(str)                             #Â make text into a path
setline(3)
setcolor(&quot;black&quot;)
fillpreserve()                            # fill but keep
clip()                                    # and use for clipping region

fontface(&quot;Monaco&quot;)
fontsize(10)
namelist = map(x-&gt;string(x), names(Base)) #Â get list of function names in Base.

let
    x = -20
    y = -h
    while y &lt; currentheight
        sethue(rand(7:10)/10, rand(7:10)/10, rand(7:10)/10)
        s = namelist[rand(1:end)]
        text(s, x, y)
        se = textextents(s)
        x += se[5]                            # move to the right
        if x &gt; w
            x = -20                            # next row
            y += 10
        end
    end
end

finish()
preview()</code></pre><h2 id="Text-blocks,-boxes,-and-wrapping"><a class="docs-heading-anchor" href="#Text-blocks,-boxes,-and-wrapping">Text blocks, boxes, and wrapping</a><a id="Text-blocks,-boxes,-and-wrapping-1"></a><a class="docs-heading-anchor-permalink" href="#Text-blocks,-boxes,-and-wrapping" title="Permalink"></a></h2><p>Longer lines of text can be made to wrap inside an imaginary rectangle with <a href="../../reference/api/#Luxor.textwrap-Tuple{AbstractString, Real, Point, Function}"><code>textwrap</code></a>. Specify the required width of the rectangle, and the location of the top left corner.</p><pre><code class="language-julia hljs">fontface(&quot;Georgia&quot;)

loremipsum = &quot;&quot;&quot;Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Nunc placerat lorem ullamcorper,
sagittis massa et, elementum dui. Sed dictum ipsum vel
commodo pellentesque. Aliquam erat volutpat. Nam est
dolor, vulputate a molestie aliquet, rutrum quis lectus.
Sed lectus mauris, tristique et tempor id, accumsan
pharetra lacus. Donec quam magna, accumsan a quam
quis, mattis hendrerit nunc. Nullam vehicula leo ac
leo tristique, a condimentum tortor faucibus.&quot;&quot;&quot;

setdash(&quot;dot&quot;)
box(O, 200, 200, :stroke)
textwrap(loremipsum, 200, O - (200/2, 200/2))</code></pre><p><img src="../../assets/figures/text-wrapping.png" alt="text wrapping"/></p><p><a href="../../reference/api/#Luxor.textwrap-Tuple{AbstractString, Real, Point, Function}"><code>textwrap</code></a> accepts a function that allows you to insert code that responds to the next line&#39;s linenumber, contents, position, and height.</p><pre><code class="language-julia hljs">fontface(&quot;Georgia&quot;)

loremipsum = &quot;&quot;&quot;Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Nunc placerat lorem ullamcorper,
sagittis massa et, elementum dui. Sed dictum ipsum vel
commodo pellentesque. Aliquam erat volutpat. Nam est
dolor, vulputate a molestie aliquet, rutrum quis lectus.
Sed lectus mauris, tristique et tempor id, accumsan
pharetra lacus. Donec quam magna, accumsan a quam
quis, mattis hendrerit nunc. Nullam vehicula leo ac
leo tristique, a condimentum tortor faucibus.&quot;&quot;&quot;

textwrap(loremipsum, 200, O - (200/2, 200/2),
    (lnumber, str, pt, l) -&gt; begin
        sethue(Colors.HSB(rescale(lnumber, 1, 15, 0, 360), 1, 1))
        text(string(&quot;line &quot;, lnumber), pt - (50, 0))
    end)</code></pre><p><img src="../../assets/figures/text-wrapping-1.png" alt="text wrapped"/></p><p>The <a href="../../reference/api/#Luxor.textbox"><code>textbox</code></a> function also draws text inside a box, but doesn&#39;t alter the lines, and doesn&#39;t force the text to a specific width. Supply an array of strings and the top left position. The <code>leading</code> argument specifies the distance between the lines, so should be set relative to the current font size (as set with <a href="../../reference/api/#Luxor.fontsize-Tuple{Any}"><code>fontsize</code></a>).</p><p>This example counts the number of characters drawn, using a simple closure. The function returns the position of the start of what would have been the next line.</p><pre><code class="language-julia hljs">fontface(&quot;Georgia&quot;)
fontsize(30)

loremipsum = &quot;&quot;&quot;Lorem ipsum dolor sit amet, consectetur
adipiscing elit. Nunc placerat lorem ullamcorper,
sagittis massa et, elementum dui. Sed dictum ipsum vel
commodo pellentesque. Aliquam erat volutpat. Nam est
dolor, vulputate a molestie aliquet, rutrum quis lectus.
Sed lectus mauris, tristique et tempor id, accumsan
pharetra lacus. Donec quam magna, accumsan a quam
quis, mattis hendrerit nunc. Nullam vehicula leo ac
leo tristique, a condimentum tortor faucibus.&quot;&quot;&quot;

_counter() = (a = 0; (n) -&gt; a += n)
counter = _counter()

translate(boxtopleft(BoundingBox()))
fontface(&quot;Georgia&quot;)
fontsize(20)

finishpos = textbox(filter(!isempty, split(loremipsum, &quot;\n&quot;)),
    O + (5, 0),
    leading = 28,
    linefunc = (lnumber, str, pt, h) -&gt; begin
        text(string(lnumber), pt - (30, 0))
        counter(length(str))
    end)

fontsize(10)
text(string(counter(0), &quot; characters&quot;), finishpos)</code></pre><p><img src="../../assets/figures/textbox.png" alt="textbox"/></p><h2 id="Text-tracking"><a class="docs-heading-anchor" href="#Text-tracking">Text tracking</a><a id="Text-tracking-1"></a><a class="docs-heading-anchor-permalink" href="#Text-tracking" title="Permalink"></a></h2><p>Use <a href="../../reference/api/#Luxor.texttrack"><code>texttrack</code></a> to track or letter-space text, i.e. vary the spacing between every letter. (&quot;Kerning&quot; is when you do this for just a pair of letters.) The units are 1/1000 em, so the actual distance of &quot;50 units of tracking&quot; varies depending on the current font size.</p><p>But really, donâ€™t track text unless you have to.</p><pre><code class="language-julia hljs">function text_tracking_example()
    fonts = [
        &quot;Verdana&quot;,
        &quot;TrebuchetMS&quot;,
        &quot;Times-Roman&quot;,
        &quot;Georgia&quot;,
        &quot;Monaco&quot;]
    fsize = 16
    grid = GridRect(boxtopleft(BoundingBox() * 0.9), 0, 20)
    tracking = 50
    for f in fonts
        fontsize(fsize)
        fontface(f)
        texttrack(&quot;This is some text in $(f): itâ€™s been tracked by +$(tracking)&quot;,
            nextgridpoint(grid), tracking, fsize)
        text(&quot;This is some text in $(f): itâ€™s not been tracked&quot;,
            nextgridpoint(grid))
        texttrack(&quot;This is some text in $(f): itâ€™s been tracked by -$(tracking)&quot;,
            nextgridpoint(grid), -tracking, fsize)
    end

end

text_tracking_example()</code></pre><p><img src="../../assets/figures/texttrack.svg" alt="textbox"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../polygons/">Â« Work with polygons</a><a class="docs-footer-nextpage" href="../clipping/">Clip graphics Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Thursday 30 September 2021 20:23">Thursday 30 September 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
